@using Andy.X.Portal.Models.Topics
@model TopicDetailsViewModel
@{
    ViewData["Title"] = @Model.Name;
}

<div class="container mt-5">

    <div class="page-header">
        <div class="row align-items-center">
            <div class="col-auto">
                <span class="avatar avatar-lg" style="">
                    <img src="~/assets/topic.png" width="64" height="64" alt="tenant">

                </span>
            </div>
            <div class="col">
                <h1 class="page-title">@Model.Name</h1>
                <div class="page-subtitle">
                    <div class="row">
                        <div class="col-auto">
                            <a class="text-reset">@Model.Tenant / @Model.Product / @Model.Component / @Model.Name</a>
                        </div>
                        <div class="col-auto text-success">
                            active
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-auto d-none d-md-flex">
                <a href="#" class="btn btn-primary">
                    Settings
                </a>
            </div>
        </div>
    </div>

    <div class="row row-cards mt-2">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <div class="subheader">Data ingestion</div>
                    <div class="h3 m-0">@Model.Producers.Count</div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <div class="subheader">Subscriptions</div>
                    <div class="h3 m-0">@Model.Subscriptions.Count</div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="page-title mt-5">Data Ingestion</h2>
    <h5 class="">List</h5>
    <div class="row row-cards mt-1">
        @if (Model.Producers.Count == 0)
        {
            <div class="alert alert-info" role="alert">
                <h4 class="alert-title">No producers yet!</h4>
                <div class="text-muted">To create a new producer, please use Andy X Cli or Andy X Clients.</div>
            </div>
        }
        @foreach (var producer in Model.Producers)
        {
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <div class="row g-2 align-items-center">
                            <div class="col-auto">
                                <span class="avatar avatar-lg" style="">
                                    <img src="~/assets/producer.png" width="64" height="64" alt="producer">

                                </span>
                            </div>
                            <div class="col">
                                <div class="text-muted">
                                    Producer
                                </div>
                                <h4 class="card-title m-0">
                                    <a>@producer</a>
                                </h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        }
    </div>

    <h2 class="page-title mt-5">Subscriptions</h2>
    <h5 class="">List</h5>
    <div class="row row-cards mt-1">
        @if (Model.Subscriptions.Count == 0)
        {
            <div class="alert alert-info" role="alert">
                <h4 class="alert-title">No subscription yet!</h4>
                <div class="text-muted">To create a new subscription, please use Andy X Cli or Andy X Clients.</div>
            </div>
        }
        @foreach (var subscription in Model.Subscriptions)
        {
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <div class="row g-2 align-items-center">
                            <div class="col-auto">
                                <span class="avatar avatar-lg" style="">
                                    <img src="~/assets/subscription.png" width="64" height="64" alt="subscription">

                                </span>
                            </div>
                            <div class="col">
                                <div class="text-muted">
                                    Subscription
                                </div>
                                <h4 class="card-title m-0">
                                    <a>@subscription.Name</a>
                                </h4>
                                <div class="text-muted">
                                    @subscription.Type.ToString()
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        }
    </div>

</div>